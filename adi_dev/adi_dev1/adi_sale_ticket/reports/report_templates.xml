<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_saleticket">
        <t t-call="web.basic_layout">
            <t t-foreach="docs" t-as="o">
                <div class="page" style="font-family: 'Courier New'; font-size: 12px; width: 80mm; padding: 0; margin: 0;">
                    <!-- En-tête avec logo -->
                    <div style="text-align: center; border-bottom: 1px dashed #ccc; margin-bottom: 10px; padding-bottom: 10px;">
                        <img t-if="res_company.logo" t-att-src="image_data_uri(res_company.logo)" style="max-width: 150px; margin-bottom: 5px;"/>
                        <h3 t-field="res_company.name" style="margin: 5px 0;"/>
                        <div t-field="res_company.street"/>
                        <div t-field="res_company.city"/>
                        <div>Tel: <span t-field="res_company.phone"/></div>
                    </div>

                    <!-- Informations de la commande -->
                    <div style="margin-bottom: 15px;">
                        <div style="margin-bottom: 3px;">Commande N° <span t-field="o.name"/></div>
                        <div style="margin-bottom: 3px;">Date: <span t-field="o.date_order"/></div>
                        <div>Client: <span t-field="o.partner_id.name"/></div>
                    </div>

                    <!-- Lignes de commande -->
                    <table style="width: 100%; margin-bottom: 15px; border-collapse: separate; border-spacing: 0 8px;">
                        <thead>
                            <tr style="border-bottom: 1px solid #eee;">
                                <th style="padding-bottom: 5px; width: 40%; padding-right: 10px;">Article</th>
                                <th class="text-right" style="padding-bottom: 5px; width: 15%; padding-right: 10px;">Qté</th>
                                <th class="text-right" style="padding-bottom: 5px; width: 20%; padding-right: 10px;">Prix</th>
                                <th class="text-right" style="padding-bottom: 5px; width: 25%;">Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr t-foreach="o.order_line" t-as="line" style="border-bottom: 1px solid #eee;">
                                <td style="padding: 3px 10px 3px 0;"><span t-field="line.product_id.name"/></td>
                                <td class="text-right" style="padding: 3px 10px 3px 0;">
                                    <span t-field="line.product_uom_qty" t-options='{"widget": "integer"}'/>
                                </td>
                                <td class="text-right" style="padding: 3px 10px 3px 0;">
                                    <span t-field="line.price_unit" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right" style="padding: 3px 0;">
                                    <span t-field="line.price_subtotal" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Total -->
                    <div style="border-top: 1px dashed #ccc; padding-top: 10px; margin-top: 10px;">
                        <div class="row" style="font-weight: bold; font-size: 14px;">
                            <div class="col-6">Total à payer:</div>
                            <div class="col-6 text-right">
                                <span t-field="o.amount_total" t-options='{"widget": "float", "precision": 2}'/>
                            </div>
                        </div>
                    </div>

                    <!-- Pied de page -->
                    <div style="text-align: center; margin-top: 20px; border-top: 1px dashed #ccc; padding-top: 10px;">
                        <p>Merci de votre confiance !</p>
                        <p>A bientôt</p>
                    </div>
                </div>
            </t>
        </t>
    </template>
</odoo>

