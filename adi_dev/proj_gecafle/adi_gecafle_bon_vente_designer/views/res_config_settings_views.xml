<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Vue formulaire pour la configuration de la société -->
    <record id="view_company_form_inherit_designer" model="ir.ui.view">
        <field name="name">res.company.form.inherit.designer</field>
        <field name="model">res.company</field>
        <field name="inherit_id" ref="base.view_company_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page string="Bon de Vente Designer" name="bon_vente_designer">
                    <group>
                        <group string="Format d'impression">
                            <field name="use_original_format" widget="boolean_toggle"/>
                            <div class="text-muted small" invisible="not use_original_format">
                                Le format original du bon de vente sera utilisé.
                            </div>
                        </group>
                        <group string="Options Designer" invisible="use_original_format">
                            <field name="use_direct_print" widget="boolean_toggle"/>
                            <field name="default_bon_vente_template_id"
                                   domain="[('company_id', '=', id), ('active', '=', True)]"
                                   options="{'no_create': True}"
                                   invisible="not use_direct_print"/>
                        </group>
                    </group>

                    <!-- Actions rapides - visible seulement si Designer activé -->
                    <group invisible="use_original_format">
                        <group string="Actions rapides" colspan="2">
                            <div class="d-flex flex-wrap gap-2">
                                <button name="action_open_template_config"
                                        string="Configurer les Modèles"
                                        type="object"
                                        class="btn btn-primary"
                                        icon="fa-cogs"/>
                                <button name="action_preview_default_template"
                                        string="Aperçu Modèle"
                                        type="object"
                                        class="btn btn-secondary"
                                        icon="fa-eye"
                                        invisible="not default_bon_vente_template_id"/>
                            </div>
                        </group>
                    </group>

                    <!-- Section Information sur toute la largeur -->
                    <div class="alert alert-light border mt-3" style="margin: 10px;">
                        <h5 class="alert-heading"><i class="fa fa-info-circle text-primary"/> Guide d'utilisation</h5>
                        <hr/>
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong><i class="fa fa-file-text-o text-success"/> Format Original (par défaut) :</strong></p>
                                <ul class="mb-0">
                                    <li>Utilise le format <strong>standard</strong> du bon de vente</li>
                                    <li>Impression rapide et simple</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <p><strong><i class="fa fa-paint-brush text-primary"/> Modèles Designer :</strong></p>
                                <ul class="mb-0">
                                    <li><strong>Impression directe</strong> : utilise le modèle par défaut</li>
                                    <li><strong>Wizard</strong> : permet de choisir le modèle à chaque impression</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
